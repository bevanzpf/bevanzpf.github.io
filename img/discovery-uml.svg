<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1447px" preserveAspectRatio="none" style="width:2262px;height:1447px;" version="1.1" viewBox="0 0 2262 1447" width="2262px" zoomAndPan="magnify"><defs><filter height="300%" id="f170lykzbjbtzn" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><polygon fill="#FFFFFF" filter="url(#f170lykzbjbtzn)" points="16,114,99,114,106,136.2969,206,136.2969,206,440,16,440,16,114" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="16" x2="106" y1="136.2969" y2="136.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="20" y="128.9951">discovery</text><polygon fill="#FFFFFF" filter="url(#f170lykzbjbtzn)" points="225,184.5,280,184.5,287,206.7969,457,206.7969,457,369.5,225,369.5,225,184.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="225" x2="287" y1="206.7969" y2="206.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49" x="229" y="199.4951">config</text><polygon fill="#FFFFFF" filter="url(#f170lykzbjbtzn)" points="1393,637,1446,637,1453,659.2969,2240,659.2969,2240,1435,1393,1435,1393,637" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1393" x2="1453" y1="659.2969" y2="659.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47" x="1397" y="651.9951">Model</text><polygon fill="#FFFFFF" filter="url(#f170lykzbjbtzn)" points="586,197,654,197,661,219.2969,1385,219.2969,1385,835,586,835,586,197" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="586" x2="661" y1="219.2969" y2="219.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62" x="590" y="211.9951">registry</text><polygon fill="#FFFFFF" filter="url(#f170lykzbjbtzn)" points="54,6,92,6,99,28.2969,168,28.2969,168,89,54,89,54,6" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="54" x2="99" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="58" y="20.9951">http</text><rect codeLine="3" fill="#FEFECE" filter="url(#f170lykzbjbtzn)" height="291.2891" id="Discovery" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="24" y="141"/><ellipse cx="77.25" cy="157" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M80.2188,162.6406 Q79.6406,162.9375 79,163.0859 Q78.3594,163.2344 77.6563,163.2344 Q75.1563,163.2344 73.8359,161.5859 Q72.5156,159.9375 72.5156,156.8125 Q72.5156,153.6875 73.8359,152.0313 Q75.1563,150.375 77.6563,150.375 Q78.3594,150.375 79.0078,150.5313 Q79.6563,150.6875 80.2188,150.9844 L80.2188,153.7031 Q79.5938,153.125 79,152.8516 Q78.4063,152.5781 77.7813,152.5781 Q76.4375,152.5781 75.75,153.6484 Q75.0625,154.7188 75.0625,156.8125 Q75.0625,158.9063 75.75,159.9766 Q76.4375,161.0469 77.7813,161.0469 Q78.4063,161.0469 79,160.7734 Q79.5938,160.5 80.2188,159.9219 L80.2188,162.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="59" x="97.75" y="161.1543">Discovery</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="25" x2="197" y1="173" y2="173"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="32" y="181"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="74" x="44" y="187.2104">config Config</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="32" y="193.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="44" y="200.0151">protected boolean</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="32" y="206.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="98" x="44" y="212.8198">client *http.Client</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="32" y="219.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="44" y="225.6245">registry *registry.Registry</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="32" y="232.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="44" y="238.4292">nodes atomic.Value</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="25" x2="197" y1="245.0234" y2="245.0234"/><ellipse cx="35" cy="256.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="55" x="44" y="259.2339">Register()</text><ellipse cx="35" cy="268.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="44" y="272.0386">Renew()</text><ellipse cx="35" cy="281.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="46" x="44" y="284.8433">Cancel()</text><ellipse cx="35" cy="294.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="44" y="297.6479">FetchAll()</text><ellipse cx="35" cy="307.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="38" x="44" y="310.4526">Fetch()</text><ellipse cx="35" cy="320.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="44" y="323.2573">Fetchs()</text><ellipse cx="35" cy="332.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="44" y="336.062">Polls()</text><ellipse cx="35" cy="345.6563" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="62" x="44" y="348.8667">DelConns()</text><ellipse cx="35" cy="358.4609" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="44" x="44" y="361.6714">Nodes()</text><ellipse cx="35" cy="371.2656" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="44" y="374.4761">Set()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="48" y="387.2808"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="32" y="393.875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="49" x="44" y="400.0854">syncUp()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="32" y="406.6797"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="49" x="44" y="412.8901">regSelf()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="32" y="419.4844"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="44" y="425.6948">nodesproc()</text><rect codeLine="30" fill="#FEFECE" filter="url(#f170lykzbjbtzn)" height="150.4375" id="Config" style="stroke: #A80036; stroke-width: 1.5;" width="215" x="233.5" y="211.5"/><ellipse cx="317.25" cy="227.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M320.2188,233.1406 Q319.6406,233.4375 319,233.5859 Q318.3594,233.7344 317.6563,233.7344 Q315.1563,233.7344 313.8359,232.0859 Q312.5156,230.4375 312.5156,227.3125 Q312.5156,224.1875 313.8359,222.5313 Q315.1563,220.875 317.6563,220.875 Q318.3594,220.875 319.0078,221.0313 Q319.6563,221.1875 320.2188,221.4844 L320.2188,224.2031 Q319.5938,223.625 319,223.3516 Q318.4063,223.0781 317.7813,223.0781 Q316.4375,223.0781 315.75,224.1484 Q315.0625,225.2188 315.0625,227.3125 Q315.0625,229.4063 315.75,230.4766 Q316.4375,231.5469 317.7813,231.5469 Q318.4063,231.5469 319,231.2734 Q319.5938,231 320.2188,230.4219 L320.2188,233.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="39" x="337.75" y="231.6543">Config</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="234.5" x2="447.5" y1="243.5" y2="243.5"/><ellipse cx="244.5" cy="254.5" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="253.5" y="257.7104">Nodes         []string</text><ellipse cx="244.5" cy="267.3047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="253.5" y="270.5151">Zones         map[string][]string</text><ellipse cx="244.5" cy="280.1094" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="253.5" y="283.3198">HTTPServer    *http.ServerConfig</text><ellipse cx="244.5" cy="292.9141" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="177" x="253.5" y="296.1245">HTTPClient    *http.ClientConfig</text><ellipse cx="244.5" cy="305.7188" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="253.5" y="308.9292">Env           *Env</text><ellipse cx="244.5" cy="318.5234" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="253.5" y="321.7339">Log           *log.Config</text><ellipse cx="244.5" cy="331.3281" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="253.5" y="334.5386">Scheduler     []byte</text><ellipse cx="244.5" cy="344.1328" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="253.5" y="347.3433">EnableProtect bool</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="234.5" x2="447.5" y1="353.9375" y2="353.9375"/><rect codeLine="46" fill="#FEFECE" filter="url(#f170lykzbjbtzn)" height="291.2891" id="Instance" style="stroke: #A80036; stroke-width: 1.5;" width="475" x="1678.5" y="1136"/><ellipse cx="1884.75" cy="1152" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1887.7188,1157.6406 Q1887.1406,1157.9375 1886.5,1158.0859 Q1885.8594,1158.2344 1885.1563,1158.2344 Q1882.6563,1158.2344 1881.3359,1156.5859 Q1880.0156,1154.9375 1880.0156,1151.8125 Q1880.0156,1148.6875 1881.3359,1147.0313 Q1882.6563,1145.375 1885.1563,1145.375 Q1885.8594,1145.375 1886.5078,1145.5313 Q1887.1563,1145.6875 1887.7188,1145.9844 L1887.7188,1148.7031 Q1887.0938,1148.125 1886.5,1147.8516 Q1885.9063,1147.5781 1885.2813,1147.5781 Q1883.9375,1147.5781 1883.25,1148.6484 Q1882.5625,1149.7188 1882.5625,1151.8125 Q1882.5625,1153.9063 1883.25,1154.9766 Q1883.9375,1156.0469 1885.2813,1156.0469 Q1885.9063,1156.0469 1886.5,1155.7734 Q1887.0938,1155.5 1887.7188,1154.9219 L1887.7188,1157.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="54" x="1905.25" y="1156.1543">Instance</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1679.5" x2="2152.5" y1="1168" y2="1168"/><ellipse cx="1689.5" cy="1179" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="1698.5" y="1182.2104">Region   string</text><ellipse cx="1689.5" cy="1191.8047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="1698.5" y="1195.0151">Zone     string</text><ellipse cx="1689.5" cy="1204.6094" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="1698.5" y="1207.8198">Env      string</text><ellipse cx="1689.5" cy="1217.4141" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="1698.5" y="1220.6245">AppID    string</text><ellipse cx="1689.5" cy="1230.2188" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="1698.5" y="1233.4292">Hostname string</text><ellipse cx="1689.5" cy="1243.0234" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="1698.5" y="1246.2339">Addrs    []string</text><ellipse cx="1689.5" cy="1255.8281" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="1698.5" y="1259.0386">Version  string</text><ellipse cx="1689.5" cy="1268.6328" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="1698.5" y="1271.8433">Metadata map[string]string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="1702.5" y="1284.6479"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="177" x="1698.5" y="1297.4526">// Status enum instance status</text><ellipse cx="1689.5" cy="1307.0469" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="1698.5" y="1310.2573">Status uint32</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="1702.5" y="1323.062"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="1698.5" y="1335.8667">// timestamp</text><ellipse cx="1689.5" cy="1345.4609" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="1698.5" y="1348.6714">RegTimestamp   int64</text><ellipse cx="1689.5" cy="1358.2656" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="449" x="1698.5" y="1361.4761">UpTimestamp    int64  // NOTE: It is latest timestamp that status becomes UP.</text><ellipse cx="1689.5" cy="1371.0703" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="1698.5" y="1374.2808">RenewTimestamp int64</text><ellipse cx="1689.5" cy="1383.875" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="122" x="1698.5" y="1387.0854">DirtyTimestamp int64</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="1702.5" y="1399.8901"/><ellipse cx="1689.5" cy="1409.4844" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="131" x="1698.5" y="1412.6948">LatestTimestamp int64</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1679.5" x2="2152.5" y1="1419.2891" y2="1419.2891"/><rect codeLine="68" fill="#FEFECE" filter="url(#f170lykzbjbtzn)" height="227.2656" id="Node" style="stroke: #A80036; stroke-width: 1.5;" width="183" x="2048.5" y="664"/><ellipse cx="2119.25" cy="680" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2122.2188,685.6406 Q2121.6406,685.9375 2121,686.0859 Q2120.3594,686.2344 2119.6563,686.2344 Q2117.1563,686.2344 2115.8359,684.5859 Q2114.5156,682.9375 2114.5156,679.8125 Q2114.5156,676.6875 2115.8359,675.0313 Q2117.1563,673.375 2119.6563,673.375 Q2120.3594,673.375 2121.0078,673.5313 Q2121.6563,673.6875 2122.2188,673.9844 L2122.2188,676.7031 Q2121.5938,676.125 2121,675.8516 Q2120.4063,675.5781 2119.7813,675.5781 Q2118.4375,675.5781 2117.75,676.6484 Q2117.0625,677.7188 2117.0625,679.8125 Q2117.0625,681.9063 2117.75,682.9766 Q2118.4375,684.0469 2119.7813,684.0469 Q2120.4063,684.0469 2121,683.7734 Q2121.5938,683.5 2122.2188,682.9219 L2122.2188,685.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="33" x="2139.75" y="684.1543">Node</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2049.5" x2="2230.5" y1="696" y2="696"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="2056.5" y="704"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="2068.5" y="710.2104">c *conf.Config</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="2072.5" y="723.0151"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="2068.5" y="735.8198">// url</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="2056.5" y="742.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="122" x="2068.5" y="748.6245">client       *http.Client</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="2056.5" y="755.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="2068.5" y="761.4292">pRegisterURL string</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="2056.5" y="768.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="2068.5" y="774.2339">registerURL  string</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="2056.5" y="780.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="2068.5" y="787.0386">cancelURL    string</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="2056.5" y="793.6328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="2068.5" y="799.8433">renewURL     string</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="2056.5" y="806.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="100" x="2068.5" y="812.6479">setURL       string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="2072.5" y="825.4526"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="2056.5" y="832.0469"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="2068.5" y="838.2573">addr      string</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="2056.5" y="844.8516"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="157" x="2068.5" y="851.062">status    model.NodeStatus</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="2056.5" y="857.6563"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="2068.5" y="863.8667">zone      string</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="2056.5" y="870.4609"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="2068.5" y="876.6714">otherZone boo</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2049.5" x2="2230.5" y1="883.2656" y2="883.2656"/><rect codeLine="84" fill="#FEFECE" filter="url(#f170lykzbjbtzn)" height="99.2188" id="Scheduler" style="stroke: #A80036; stroke-width: 1.5;" width="382" x="1401" y="728"/><ellipse cx="1556.25" cy="744" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1559.2188,749.6406 Q1558.6406,749.9375 1558,750.0859 Q1557.3594,750.2344 1556.6563,750.2344 Q1554.1563,750.2344 1552.8359,748.5859 Q1551.5156,746.9375 1551.5156,743.8125 Q1551.5156,740.6875 1552.8359,739.0313 Q1554.1563,737.375 1556.6563,737.375 Q1557.3594,737.375 1558.0078,737.5313 Q1558.6563,737.6875 1559.2188,737.9844 L1559.2188,740.7031 Q1558.5938,740.125 1558,739.8516 Q1557.4063,739.5781 1556.7813,739.5781 Q1555.4375,739.5781 1554.75,740.6484 Q1554.0625,741.7188 1554.0625,743.8125 Q1554.0625,745.9063 1554.75,746.9766 Q1555.4375,748.0469 1556.7813,748.0469 Q1557.4063,748.0469 1558,747.7734 Q1558.5938,747.5 1559.2188,746.9219 L1559.2188,749.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="63" x="1576.75" y="748.1543">Scheduler</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1402" x2="1782" y1="760" y2="760"/><ellipse cx="1412" cy="771" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="304" x="1421" y="774.2104">AppID   string                   `json:"app_id,omitempty"`</text><ellipse cx="1412" cy="783.8047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="283" x="1421" y="787.0151">Env     string                   `json:"env,omitempty"`</text><ellipse cx="1412" cy="796.6094" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="356" x="1421" y="799.8198">Clients map[string]*ZoneStrategy `json:"clients"` // zone-ratio</text><ellipse cx="1412" cy="809.4141" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="251" x="1421" y="812.6245">Remark  string                   `json:"remark"`</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1402" x2="1782" y1="819.2188" y2="819.2188"/><rect codeLine="91" fill="#FEFECE" filter="url(#f170lykzbjbtzn)" height="86.4141" id="Apps" style="stroke: #A80036; stroke-width: 1.5;" width="195" x="1818.5" y="734.5"/><ellipse cx="1896.25" cy="750.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1899.2188,756.1406 Q1898.6406,756.4375 1898,756.5859 Q1897.3594,756.7344 1896.6563,756.7344 Q1894.1563,756.7344 1892.8359,755.0859 Q1891.5156,753.4375 1891.5156,750.3125 Q1891.5156,747.1875 1892.8359,745.5313 Q1894.1563,743.875 1896.6563,743.875 Q1897.3594,743.875 1898.0078,744.0313 Q1898.6563,744.1875 1899.2188,744.4844 L1899.2188,747.2031 Q1898.5938,746.625 1898,746.3516 Q1897.4063,746.0781 1896.7813,746.0781 Q1895.4375,746.0781 1894.75,747.1484 Q1894.0625,748.2188 1894.0625,750.3125 Q1894.0625,752.4063 1894.75,753.4766 Q1895.4375,754.5469 1896.7813,754.5469 Q1897.4063,754.5469 1898,754.2734 Q1898.5938,754 1899.2188,753.4219 L1899.2188,756.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="31" x="1916.75" y="754.6543">Apps</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1819.5" x2="2012.5" y1="766.5" y2="766.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1826.5" y="774.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="169" x="1838.5" y="780.7104">apps            map[string]*App</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1826.5" y="787.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="149" x="1838.5" y="793.5151">lock            sync.RWMutex</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1826.5" y="800.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="128" x="1838.5" y="806.3198">latestTimestamp int64</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1819.5" x2="2012.5" y1="812.9141" y2="812.9141"/><rect codeLine="97" fill="#FEFECE" filter="url(#f170lykzbjbtzn)" height="124.8281" id="App" style="stroke: #A80036; stroke-width: 1.5;" width="229" x="1801.5" y="951"/><ellipse cx="1899.75" cy="967" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1902.7188,972.6406 Q1902.1406,972.9375 1901.5,973.0859 Q1900.8594,973.2344 1900.1563,973.2344 Q1897.6563,973.2344 1896.3359,971.5859 Q1895.0156,969.9375 1895.0156,966.8125 Q1895.0156,963.6875 1896.3359,962.0313 Q1897.6563,960.375 1900.1563,960.375 Q1900.8594,960.375 1901.5078,960.5313 Q1902.1563,960.6875 1902.7188,960.9844 L1902.7188,963.7031 Q1902.0938,963.125 1901.5,962.8516 Q1900.9063,962.5781 1900.2813,962.5781 Q1898.9375,962.5781 1898.25,963.6484 Q1897.5625,964.7188 1897.5625,966.8125 Q1897.5625,968.9063 1898.25,969.9766 Q1898.9375,971.0469 1900.2813,971.0469 Q1900.9063,971.0469 1901.5,970.7734 Q1902.0938,970.5 1902.7188,969.9219 L1902.7188,972.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="24" x="1920.25" y="971.1543">App</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1802.5" x2="2029.5" y1="983" y2="983"/><ellipse cx="1812.5" cy="994" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="1821.5" y="997.2104">AppID           string</text><ellipse cx="1812.5" cy="1006.8047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="1821.5" y="1010.0151">Zone            string</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1809.5" y="1016.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="203" x="1821.5" y="1022.8198">instances       map[string]*Instance</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1809.5" y="1029.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="128" x="1821.5" y="1035.6245">latestTimestamp int64</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="1825.5" y="1048.4292"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1809.5" y="1055.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="1821.5" y="1061.2339">lock sync.RWMutex</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1802.5" x2="2029.5" y1="1067.8281" y2="1067.8281"/><rect codeLine="107" fill="#FEFECE" filter="url(#f170lykzbjbtzn)" height="124.8281" id="Registry" style="stroke: #A80036; stroke-width: 1.5;" width="367" x="790.5" y="224"/><ellipse cx="944.75" cy="240" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M947.7188,245.6406 Q947.1406,245.9375 946.5,246.0859 Q945.8594,246.2344 945.1563,246.2344 Q942.6563,246.2344 941.3359,244.5859 Q940.0156,242.9375 940.0156,239.8125 Q940.0156,236.6875 941.3359,235.0313 Q942.6563,233.375 945.1563,233.375 Q945.8594,233.375 946.5078,233.5313 Q947.1563,233.6875 947.7188,233.9844 L947.7188,236.7031 Q947.0938,236.125 946.5,235.8516 Q945.9063,235.5781 945.2813,235.5781 Q943.9375,235.5781 943.25,236.6484 Q942.5625,237.7188 942.5625,239.8125 Q942.5625,241.9063 943.25,242.9766 Q943.9375,244.0469 945.2813,244.0469 Q945.9063,244.0469 946.5,243.7734 Q947.0938,243.5 947.7188,242.9219 L947.7188,245.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="50" x="965.25" y="244.1543">Registry</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="791.5" x2="1156.5" y1="256" y2="256"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="798.5" y="264"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="299" x="810.5" y="270.2104">appm  map[string]*model.Apps // appid-env -&gt; apps</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="798.5" y="276.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="810.5" y="283.0151">aLock sync.RWMutex</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="798.5" y="289.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="341" x="810.5" y="295.8198">conns     map[string]*hosts // region.zone.env.appid-&gt; host</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="798.5" y="302.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="810.5" y="308.6245">cLock     sync.RWMutex</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="798.5" y="315.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="122" x="810.5" y="321.4292">scheduler *scheduler</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="798.5" y="328.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="810.5" y="334.2339">gd        *Guard</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="791.5" x2="1156.5" y1="340.8281" y2="340.8281"/><rect codeLine="116" fill="#FEFECE" filter="url(#f170lykzbjbtzn)" height="86.4141" id="scheduler" style="stroke: #A80036; stroke-width: 1.5;" width="261" x="1115.5" y="505"/><ellipse cx="1210.75" cy="521" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1213.7188,526.6406 Q1213.1406,526.9375 1212.5,527.0859 Q1211.8594,527.2344 1211.1563,527.2344 Q1208.6563,527.2344 1207.3359,525.5859 Q1206.0156,523.9375 1206.0156,520.8125 Q1206.0156,517.6875 1207.3359,516.0313 Q1208.6563,514.375 1211.1563,514.375 Q1211.8594,514.375 1212.5078,514.5313 Q1213.1563,514.6875 1213.7188,514.9844 L1213.7188,517.7031 Q1213.0938,517.125 1212.5,516.8516 Q1211.9063,516.5781 1211.2813,516.5781 Q1209.9375,516.5781 1209.25,517.6484 Q1208.5625,518.7188 1208.5625,520.8125 Q1208.5625,522.9063 1209.25,523.9766 Q1209.9375,525.0469 1211.2813,525.0469 Q1211.9063,525.0469 1212.5,524.7734 Q1213.0938,524.5 1213.7188,523.9219 L1213.7188,526.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="62" x="1231.25" y="525.1543">scheduler</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1116.5" x2="1375.5" y1="537" y2="537"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1123.5" y="545"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="235" x="1135.5" y="551.2104">schedulers map[string]*model.Scheduler</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1123.5" y="557.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="1135.5" y="564.0151">mutex      sync.RWMutex</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1123.5" y="570.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="1135.5" y="576.8198">r          *Registry</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1116.5" x2="1375.5" y1="583.4141" y2="583.4141"/><rect codeLine="122" fill="#FEFECE" filter="url(#f170lykzbjbtzn)" height="112.0234" id="Guard" style="stroke: #A80036; stroke-width: 1.5;" width="163" x="917.5" y="492"/><ellipse cx="975.75" cy="508" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M978.7188,513.6406 Q978.1406,513.9375 977.5,514.0859 Q976.8594,514.2344 976.1563,514.2344 Q973.6563,514.2344 972.3359,512.5859 Q971.0156,510.9375 971.0156,507.8125 Q971.0156,504.6875 972.3359,503.0313 Q973.6563,501.375 976.1563,501.375 Q976.8594,501.375 977.5078,501.5313 Q978.1563,501.6875 978.7188,501.9844 L978.7188,504.7031 Q978.0938,504.125 977.5,503.8516 Q976.9063,503.5781 976.2813,503.5781 Q974.9375,503.5781 974.25,504.6484 Q973.5625,505.7188 973.5625,507.8125 Q973.5625,509.9063 974.25,510.9766 Q974.9375,512.0469 976.2813,512.0469 Q976.9063,512.0469 977.5,511.7734 Q978.0938,511.5 978.7188,510.9219 L978.7188,513.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="38" x="996.25" y="512.1543">Guard</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="918.5" x2="1079.5" y1="524" y2="524"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="925.5" y="532"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="937.5" y="538.2104">expPerMin    int64</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="925.5" y="544.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="937.5" y="551.0151">expThreshold int64</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="925.5" y="557.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="937.5" y="563.8198">facInMin     int64</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="925.5" y="570.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="100" x="937.5" y="576.6245">facLastMin   int64</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="925.5" y="583.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="937.5" y="589.4292">lock         sync.RWMutex</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="918.5" x2="1079.5" y1="596.0234" y2="596.0234"/><rect codeLine="130" fill="#FEFECE" filter="url(#f170lykzbjbtzn)" height="86.4141" id="Nodes" style="stroke: #A80036; stroke-width: 1.5;" width="184" x="1193" y="243.5"/><ellipse cx="1260.75" cy="259.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1263.7188,265.1406 Q1263.1406,265.4375 1262.5,265.5859 Q1261.8594,265.7344 1261.1563,265.7344 Q1258.6563,265.7344 1257.3359,264.0859 Q1256.0156,262.4375 1256.0156,259.3125 Q1256.0156,256.1875 1257.3359,254.5313 Q1258.6563,252.875 1261.1563,252.875 Q1261.8594,252.875 1262.5078,253.0313 Q1263.1563,253.1875 1263.7188,253.4844 L1263.7188,256.2031 Q1263.0938,255.625 1262.5,255.3516 Q1261.9063,255.0781 1261.2813,255.0781 Q1259.9375,255.0781 1259.25,256.1484 Q1258.5625,257.2188 1258.5625,259.3125 Q1258.5625,261.4063 1259.25,262.4766 Q1259.9375,263.5469 1261.2813,263.5469 Q1261.9063,263.5469 1262.5,263.2734 Q1263.0938,263 1263.7188,262.4219 L1263.7188,265.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="40" x="1281.25" y="263.6543">Nodes</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1194" x2="1376" y1="275.5" y2="275.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1201" y="283.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="1213" y="289.7104">nodes    []*Node</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1201" y="296.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="1213" y="302.5151">zones    map[string][]*Node</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1201" y="309.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="1213" y="315.3198">selfAddr string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1194" x2="1376" y1="321.9141" y2="321.9141"/><rect codeLine="136" fill="#FEFECE" filter="url(#f170lykzbjbtzn)" height="73.6094" id="hosts" style="stroke: #A80036; stroke-width: 1.5;" width="288" x="594" y="511"/><ellipse cx="716.25" cy="527" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M719.2188,532.6406 Q718.6406,532.9375 718,533.0859 Q717.3594,533.2344 716.6563,533.2344 Q714.1563,533.2344 712.8359,531.5859 Q711.5156,529.9375 711.5156,526.8125 Q711.5156,523.6875 712.8359,522.0313 Q714.1563,520.375 716.6563,520.375 Q717.3594,520.375 718.0078,520.5313 Q718.6563,520.6875 719.2188,520.9844 L719.2188,523.7031 Q718.5938,523.125 718,522.8516 Q717.4063,522.5781 716.7813,522.5781 Q715.4375,522.5781 714.75,523.6484 Q714.0625,524.7188 714.0625,526.8125 Q714.0625,528.9063 714.75,529.9766 Q715.4375,531.0469 716.7813,531.0469 Q717.4063,531.0469 718,530.7734 Q718.5938,530.5 719.2188,529.9219 L719.2188,532.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="35" x="736.75" y="531.1543">hosts</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="595" x2="881" y1="543" y2="543"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="602" y="551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="614" y="557.2104">hclock sync.RWMutex</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="602" y="563.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="262" x="614" y="570.0151">hosts  map[string]*conn // host name to conn</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="595" x2="881" y1="576.6094" y2="576.6094"/><rect codeLine="141" fill="#FEFECE" filter="url(#f170lykzbjbtzn)" height="99.2188" id="conn" style="stroke: #A80036; stroke-width: 1.5;" width="423" x="594.5" y="728"/><ellipse cx="786.25" cy="744" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M789.2188,749.6406 Q788.6406,749.9375 788,750.0859 Q787.3594,750.2344 786.6563,750.2344 Q784.1563,750.2344 782.8359,748.5859 Q781.5156,746.9375 781.5156,743.8125 Q781.5156,740.6875 782.8359,739.0313 Q784.1563,737.375 786.6563,737.375 Q787.3594,737.375 788.0078,737.5313 Q788.6563,737.6875 789.2188,737.9844 L789.2188,740.7031 Q788.5938,740.125 788,739.8516 Q787.4063,739.5781 786.7813,739.5781 Q785.4375,739.5781 784.75,740.6484 Q784.0625,741.7188 784.0625,743.8125 Q784.0625,745.9063 784.75,746.9766 Q785.4375,748.0469 786.7813,748.0469 Q787.4063,748.0469 788,747.7734 Q788.5938,747.5 789.2188,746.9219 L789.2188,749.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="31" x="806.75" y="748.1543">conn</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="595.5" x2="1016.5" y1="760" y2="760"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="602.5" y="768"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="614.5" y="774.2104">arg        *model.ArgPolls</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="602.5" y="780.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="92" x="614.5" y="787.0151">latestTime int64</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="602.5" y="793.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="614.5" y="799.8198">count      int</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="595.5" x2="1016.5" y1="806.4141" y2="806.4141"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="602.5" y="814.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="397" x="614.5" y="820.6245">ch         chan map[string]*model.InstanceInfo // TODO(felix): increase</text><rect codeLine="150" fill="#FEFECE" filter="url(#f170lykzbjbtzn)" height="48" id="httpServer" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="62" y="33"/><ellipse cx="77" cy="49" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M79.9688,54.6406 Q79.3906,54.9375 78.75,55.0859 Q78.1094,55.2344 77.4063,55.2344 Q74.9063,55.2344 73.5859,53.5859 Q72.2656,51.9375 72.2656,48.8125 Q72.2656,45.6875 73.5859,44.0313 Q74.9063,42.375 77.4063,42.375 Q78.1094,42.375 78.7578,42.5313 Q79.4063,42.6875 79.9688,42.9844 L79.9688,45.7031 Q79.3438,45.125 78.75,44.8516 Q78.1563,44.5781 77.5313,44.5781 Q76.1875,44.5781 75.5,45.6484 Q74.8125,46.7188 74.8125,48.8125 Q74.8125,50.9063 75.5,51.9766 Q76.1875,53.0469 77.5313,53.0469 Q78.1563,53.0469 78.75,52.7734 Q79.3438,52.5 79.9688,51.9219 L79.9688,54.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="66" x="91" y="53.1543">httpServer</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="63" x2="159" y1="65" y2="65"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="63" x2="159" y1="73" y2="73"/><rect codeLine="26" fill="#FEFECE" filter="url(#f170lykzbjbtzn)" height="48" id="HttpClient" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="484" y="262.5"/><ellipse cx="499" cy="278.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M501.9688,284.1406 Q501.3906,284.4375 500.75,284.5859 Q500.1094,284.7344 499.4063,284.7344 Q496.9063,284.7344 495.5859,283.0859 Q494.2656,281.4375 494.2656,278.3125 Q494.2656,275.1875 495.5859,273.5313 Q496.9063,271.875 499.4063,271.875 Q500.1094,271.875 500.7578,272.0313 Q501.4063,272.1875 501.9688,272.4844 L501.9688,275.2031 Q501.3438,274.625 500.75,274.3516 Q500.1563,274.0781 499.5313,274.0781 Q498.1875,274.0781 497.5,275.1484 Q496.8125,276.2188 496.8125,278.3125 Q496.8125,280.4063 497.5,281.4766 Q498.1875,282.5469 499.5313,282.5469 Q500.1563,282.5469 500.75,282.2734 Q501.3438,282 501.9688,281.4219 L501.9688,284.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="62" x="513" y="282.6543">HttpClient</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="485" x2="577" y1="294.5" y2="294.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="485" x2="577" y1="302.5" y2="302.5"/><path codeLine="155" d="M198.1484,286.5 C208.1273,286.5 218.1062,286.5 228.085,286.5 " fill="none" id="Discovery-to-Config" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="233.3033,286.5,224.3033,282.5,228.3033,286.5,224.3033,290.5,233.3033,286.5" style="stroke: #A80036; stroke-width: 1.0;"/><path codeLine="156" d="M177.3762,140.9519 C193.0059,123.1901 211.8834,108.7478 234.5,101.5 C279.5753,87.0549 402.4247,87.0549 447.5,101.5 C509.8617,121.4847 525.6853,209.9445 529.6746,256.9318 " fill="none" id="Discovery-to-HttpClient" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="530.0851,262.1734,533.3701,252.8885,529.6947,257.1887,525.3946,253.5132,530.0851,262.1734" style="stroke: #A80036; stroke-width: 1.0;"/><path codeLine="157" d="M177.3762,140.9519 C193.0059,123.1901 211.8834,108.7478 234.5,101.5 C270.793,89.8693 540.2932,93.247 577.5,101.5 C681.4755,124.5631 790.4928,177.8558 867.841,221.3476 " fill="none" id="Discovery-to-Registry" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="872.4254,223.9347,866.5533,216.0279,868.0709,221.4773,862.6215,222.995,872.4254,223.9347" style="stroke: #A80036; stroke-width: 1.0;"/><path codeLine="158" d="M1040.8694,349.0126 C1077.8916,380.5272 1126.1987,416.8664 1175,440 C1265.3971,482.8516 1298.0718,463.6154 1394,492 C1578.1341,546.4842 1643.999,526.4352 1801,637 C1836.0037,661.6506 1866.2354,699.6927 1886.9058,729.9779 " fill="none" id="Registry-to-Apps" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1889.8856,734.3874,1888.1605,724.6908,1887.086,730.2447,1881.5321,729.1701,1889.8856,734.3874" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1877.0861" y="723.3655">n</text><path codeLine="159" d="M1916,820.5116 C1916,855.3747 1916,905.1493 1916,945.4164 " fill="none" id="Apps-to-App" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1916,950.7804,1920,941.7804,1916,945.7804,1912,941.7804,1916,950.7804" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1907.5375" y="939.7458">n</text><path codeLine="160" d="M1916,1076.3341 C1916,1092.8799 1916,1111.4649 1916,1130.5154 " fill="none" id="App-to-Instance" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1916,1135.8997,1920,1126.8997,1916,1130.8997,1912,1126.8997,1916,1135.8997" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1907.7938" y="1125.0683">n</text><path codeLine="161" d="M1039.1508,349.1358 C1089.1294,397.1851 1156.8189,462.2615 1200.9393,504.6788 " fill="none" id="Registry-scheduler" style="stroke: #A80036; stroke-width: 1.0;"/><path codeLine="162" d="M1319.5319,591.1354 C1343.2067,605.3906 1369.4112,621.5593 1393,637 C1435.6736,664.9332 1482.3036,697.7284 1519.6924,724.6059 " fill="none" id="scheduler-to-Scheduler" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1524.2053,727.8536,1519.2366,719.3499,1520.1469,724.9331,1514.5638,725.8433,1524.2053,727.8536" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1506.1092" y="716.8782">n</text><path codeLine="163" d="M979.9881,349.1358 C983.972,390.8071 989.1802,445.2852 993.1379,486.6826 " fill="none" id="Registry-to-Guard" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="993.6142,491.6645,996.7392,482.3246,993.1382,486.6872,988.7756,483.0862,993.6142,491.6645" style="stroke: #A80036; stroke-width: 1.0;"/><path codeLine="164" d="M177.3762,140.9519 C193.0059,123.1901 211.8834,108.7478 234.5,101.5 C283.3316,85.8512 1108.6684,85.8512 1157.5,101.5 C1218.0131,120.8923 1253.1411,190.5179 1270.6875,238.5923 " fill="none" id="Discovery-to-Nodes" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1272.4334,243.4663,1273.1641,233.6446,1270.7473,238.7592,1265.6327,236.3424,1272.4334,243.4663" style="stroke: #A80036; stroke-width: 1.0;"/><path codeLine="165" d="M1377.0249,314.0532 C1525.98,361.8888 1824.0629,471.3258 2031,637 C2039.5951,643.8812 2047.9108,651.572 2055.8582,659.7132 " fill="none" id="Nodes-to-Node" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="2059.7297,663.7444,2056.3806,654.4825,2056.2663,660.1382,2050.6106,660.0239,2059.7297,663.7444" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="2046.3311" y="653.0391">n</text><path codeLine="166" d="M111,81.1268 C111,95.3502 111,114.6739 111,135.8066 " fill="none" id="httpServer-to-Discovery" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="111,140.9223,115,131.9223,111,135.9223,107,131.9223,111,140.9223" style="stroke: #A80036; stroke-width: 1.0;"/><path codeLine="167" d="M917.4721,349.1358 C873.2608,398.1242 813.0763,464.8117 774.876,507.1395 " fill="none" id="Registry-to-hosts" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="771.4784,510.9043,780.4777,506.9028,774.8283,507.1924,774.5387,501.543,771.4784,510.9043" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="768.9135" y="499.7971">n</text><path codeLine="168" d="M749.001,585.1282 C760.0763,622.5075 777.281,680.5735 789.8927,723.1377 " fill="none" id="hosts-to-conn" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="791.3297,727.9878,792.6079,718.2222,789.9091,723.1938,784.9375,720.4951,791.3297,727.9878" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="780.7042" y="717.0313">n</text></g></svg>